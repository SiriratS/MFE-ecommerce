<div class="bg-neutral-50 min-h-screen">
    <div class="container-custom py-12">
        <h1 class="text-4xl font-semibold text-neutral-900 mb-10">Shopping Cart</h1>

        @if (isEmpty()) {
        <!-- Empty Cart State -->
        <div class="flex flex-col items-center justify-center py-24 px-4">
            <!-- Large Shopping Bag Icon -->
            <div class="text-neutral-300 mb-8">
                <svg class="w-32 h-32 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                        d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                </svg>
            </div>
            
            <!-- Heading -->
            <h2 class="text-3xl font-semibold text-neutral-800 mb-4">Your shopping bag is empty</h2>
            
            <!-- Description -->
            <p class="text-neutral-500 mb-10 text-center max-w-md">Hit the button down below to start shopping</p>
            
            <!-- CTA Button -->
            <a routerLink="/"
                class="px-8 py-3.5 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors font-medium shadow-sm">
                Start Shopping
            </a>
        </div>
        } @else {
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Cart Items -->
            <div class="lg:col-span-2 space-y-4">
                @for (item of items(); track item.productId) {
                <div class="bg-white rounded-lg border border-neutral-200 p-6 flex items-center gap-6">
                    <!-- Product Image -->
                    <img [src]="item.image" [alt]="item.productName" class="w-24 h-24 object-cover rounded-lg" />

                    <!-- Product Info -->
                    <div class="flex-1">
                        <h3 class="text-base font-medium text-neutral-900 mb-1">
                            {{ item.productName }}
                        </h3>
                        <p class="text-neutral-900 font-semibold">
                            \${{ item.price.toFixed(2) }}
                        </p>
                    </div>

                    <!-- Quantity Controls -->
                    <div class="flex items-center gap-3">
                        <button (click)="decreaseQuantity(item.productId, item.quantity)"
                            class="w-8 h-8 rounded-md border border-neutral-300 hover:bg-neutral-100 flex items-center justify-center transition-colors text-neutral-700">
                            -
                        </button>
                        <span class="w-8 text-center font-medium text-neutral-900">{{ item.quantity }}</span>
                        <button (click)="increaseQuantity(item.productId, item.quantity)"
                            class="w-8 h-8 rounded-md bg-neutral-900 hover:bg-neutral-800 text-white flex items-center justify-center transition-colors">
                            +
                        </button>
                    </div>

                    <!-- Item Total & Remove -->
                    <div class="text-right">
                        <p class="text-lg font-semibold text-neutral-900 mb-2">
                            \${{ (item.price * item.quantity).toFixed(2) }}
                        </p>
                        <button (click)="removeItem(item.productId)"
                            class="text-neutral-500 hover:text-neutral-900 text-sm transition-colors">
                            Remove
                        </button>
                    </div>
                </div>
                }
            </div>

            <!-- Order Summary -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-lg border border-neutral-200 p-6 sticky top-24">
                    <h2 class="text-xl font-semibold text-neutral-900 mb-6">Order Summary</h2>

                    <div class="space-y-4 mb-6">
                        <div class="flex justify-between text-neutral-600">
                            <span>Items ({{ totalItems() }})</span>
                            <span>\${{ totalPrice().toFixed(2) }}</span>
                        </div>
                        <div class="flex justify-between text-neutral-600">
                            <span>Shipping</span>
                            <span class="text-accent-600 font-medium">Free</span>
                        </div>
                        <div
                            class="border-t border-neutral-200 pt-4 flex justify-between text-lg font-semibold text-neutral-900">
                            <span>Total</span>
                            <span>\${{ totalPrice().toFixed(2) }}</span>
                        </div>
                    </div>

                    <button
                        class="w-full px-6 py-3 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors font-medium mb-3">
                        Proceed to Checkout
                    </button>

                    <a routerLink="/"
                        class="block w-full px-6 py-3 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors font-medium text-center">
                        Continue Shopping
                    </a>
                </div>
            </div>
        </div>
        }
    </div>
</div>